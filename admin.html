<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SPX Engineering – Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body class="theme-dark">
  <header class="site-header">
    <div class="logo">SPX Engineering – Admin</div>
  </header>

  <main class="page admin-page">
    <section class="admin">
      <h1>Admin Dashboard</h1>

      <!-- Login -->
      <form id="adminLoginForm" class="card">
        <div class="field">
          <label for="adminUser">Username</label>
          <input id="adminUser" type="text" required />
        </div>
        <div class="field">
          <label for="adminPass">Password</label>
          <input id="adminPass" type="password" required />
        </div>
        <button type="submit" class="btn primary">Log In</button>
        <p id="adminStatus" class="small muted"></p>
      </form>

      <!-- Dashboard (hidden until login) -->
      <div id="adminDashboard" class="admin-dashboard hidden">
        <div class="admin-grid">
          <aside class="admin-sidebar">
            <h2>Messages</h2>
            <ul id="messageList" class="message-list"></ul>

            <section class="admin-metrics card">
              <h2>Site Metrics</h2>
              <p class="small">
                Local site visits (this browser): <span id="siteVisitCount">0</span>
              </p>
              <button id="metricsButton" class="btn secondary">
                Load engagement metrics
              </button>
              <pre id="metricsOutput" class="small muted metrics-output"></pre>
            </section>
          </aside>

          <main class="admin-main">
            <div id="messageEmptyHint" class="small muted">
              Select a message to view details.
            </div>

            <div id="messageDetail">
              <div id="messageMeta" class="message-meta"></div>
              <pre id="messageBody" class="message-body"></pre>

              <div id="messageReplies" class="message-replies"></div>

              <form id="replyForm" class="reply-form hidden">
                <label for="replyText">Reply</label>
                <textarea id="replyText" rows="4"></textarea>
                <button type="submit" class="btn primary">Send Reply</button>
              </form>
            </div>
          </main>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
  <script src="messages.js"></script>
</body>
</html>
